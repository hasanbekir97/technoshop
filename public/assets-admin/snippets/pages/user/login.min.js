var SnippetLogin=function(){var f=$("#m_login");var a=function(k,j,m){var l=$('<div class="m-alert m-alert--outline alert alert-'+j+' alert-dismissible" role="alert">			<button type="button" class="close" data-dismiss="alert" aria-label="Close"></button>			<span></span>		</div>');k.find(".alert").remove();l.prependTo(k);l.animateClass("fadeIn animated");l.find("span").html(m)};var c=function(){f.removeClass("m-login--forget-password");f.removeClass("m-login--signin");f.addClass("m-login--signup");f.find(".m-login__signup").animateClass("flipInX animated")};var b=function(){f.removeClass("m-login--forget-password");f.removeClass("m-login--signup");f.addClass("m-login--signin");f.find(".m-login__signin").animateClass("flipInX animated")};var e=function(){f.removeClass("m-login--signin");f.removeClass("m-login--signup");f.addClass("m-login--forget-password");f.find(".m-login__forget-password").animateClass("flipInX animated")};var h=function(){$("#m_login_forget_password").click(function(j){j.preventDefault();e()});$("#m_login_forget_password_cancel").click(function(j){j.preventDefault();b()});$("#m_login_signup").click(function(j){j.preventDefault();c()});$("#m_login_signup_cancel").click(function(j){j.preventDefault();b()})};var d=function(){$("#m_login_signin_submit").click(function(l){l.preventDefault();var j=$(this);var k=$(this).closest("form");k.validate({rules:{email:{required:true,email:true},password:{required:true}}});if(!k.valid()){return}j.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);k.ajaxSubmit({url:"",success:function(o,m,p,n){setTimeout(function(){j.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);a(k,"danger","Incorrect username or password. Please try again.");if(o.statusCode==1){a(k,"success",o.status);setTimeout(function(){window.location="system.php?system=home"},3000)}else{a(k,"danger",o.status)}},2000)}})})};var g=function(){$("#m_login_signup_submit").click(function(l){l.preventDefault();var j=$(this);var k=$(this).closest("form");k.validate({rules:{fullname:{required:true},email:{required:true,email:true},password:{required:true},rpassword:{required:true},agree:{required:true}}});if(!k.valid()){return}j.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);k.ajaxSubmit({url:"",success:function(o,m,p,n){setTimeout(function(){j.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);k.clearForm();k.validate().resetForm();b();var q=f.find(".m-login__signin form");q.clearForm();q.validate().resetForm();a(q,"success","Thank you. To complete your registration please check your email.")},2000)}})})};var i=function(){$("#m_login_forget_password_submit").click(function(l){l.preventDefault();var j=$(this);var k=$(this).closest("form");k.validate({rules:{email:{required:true,email:true}}});if(!k.valid()){return}j.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);k.ajaxSubmit({url:"",success:function(o,m,p,n){setTimeout(function(){j.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);k.clearForm();k.validate().resetForm();b();var q=f.find(".m-login__signin form");q.clearForm();q.validate().resetForm();a(q,"success","Cool! Password recovery instruction has been sent to your email.")},2000)}})})};return{init:function(){h();d();g();i()}}}();jQuery(document).ready(function(){SnippetLogin.init()});