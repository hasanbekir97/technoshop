var SnippetLogin=function(){var f=$("#m_login");var a=function(m,l,k){var j=$('<div class="m-alert m-alert--outline alert alert-'+l+' alert-dismissible" role="alert">			<button type="button" class="close" data-dismiss="alert" aria-label="Close"></button>			<span></span>		</div>');m.find(".alert").remove();j.prependTo(m);j.animateClass("fadeIn animated");j.find("span").html(k)};var c=function(){f.removeClass("m-login--forget-password");f.removeClass("m-login--signin");f.addClass("m-login--signup");f.find(".m-login__signup").animateClass("flipInX animated")};var b=function(){f.removeClass("m-login--forget-password");f.removeClass("m-login--signup");f.addClass("m-login--signin");f.find(".m-login__signin").animateClass("flipInX animated")};var e=function(){f.removeClass("m-login--signin");f.removeClass("m-login--signup");f.addClass("m-login--forget-password");f.find(".m-login__forget-password").animateClass("flipInX animated")};var h=function(){$("#m_login_forget_password").click(function(j){j.preventDefault();e()});$("#m_login_forget_password_cancel").click(function(j){j.preventDefault();b()});$("#m_login_signup").click(function(j){j.preventDefault();c()});$("#m_login_signup_cancel").click(function(j){j.preventDefault();b()})};var d=function(){$("#m_login_signin_submit").click(function(k){k.preventDefault();var l=$(this);var j=$(this).closest("form");j.validate({rules:{email:{required:true,email:true},password:{required:true}}});if(!j.valid()){return}l.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);j.ajaxSubmit({url:"",success:function(n,p,o,m){setTimeout(function(){l.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);a(j,"danger","Incorrect username or password. Please try again.");if(n.statusCode==1){a(j,"success",n.status);setTimeout(function(){window.location="system.php?system=home"},3000)}else{a(j,"danger",n.status)}},2000)}})})};var g=function(){$("#m_login_signup_submit").click(function(k){k.preventDefault();var l=$(this);var j=$(this).closest("form");j.validate({rules:{fullname:{required:true},email:{required:true,email:true},password:{required:true},rpassword:{required:true},agree:{required:true}}});if(!j.valid()){return}l.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);j.ajaxSubmit({url:"",success:function(n,p,o,m){setTimeout(function(){l.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);j.clearForm();j.validate().resetForm();b();var q=f.find(".m-login__signin form");q.clearForm();q.validate().resetForm();a(q,"success","Thank you. To complete your registration please check your email.")},2000)}})})};var i=function(){$("#m_login_forget_password_submit").click(function(k){k.preventDefault();var l=$(this);var j=$(this).closest("form");j.validate({rules:{email:{required:true,email:true}}});if(!j.valid()){return}l.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);j.ajaxSubmit({url:"",success:function(n,p,o,m){setTimeout(function(){l.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);j.clearForm();j.validate().resetForm();b();var q=f.find(".m-login__signin form");q.clearForm();q.validate().resetForm();a(q,"success","Cool! Password recovery instruction has been sent to your email.")},2000)}})})};return{init:function(){h();d();g();i()}}}();jQuery(document).ready(function(){SnippetLogin.init()});