var SnippetLogin=function(){var m=$("#m_login");var r=function(c,d,a){var b=$('<div class="m-alert m-alert--outline alert alert-'+d+' alert-dismissible" role="alert">			<button type="button" class="close" data-dismiss="alert" aria-label="Close"></button>			<span></span>		</div>');c.find(".alert").remove();b.prependTo(c);b.animateClass("fadeIn animated");b.find("span").html(a)};var p=function(){m.removeClass("m-login--forget-password");m.removeClass("m-login--signin");m.addClass("m-login--signup");m.find(".m-login__signup").animateClass("flipInX animated")};var q=function(){m.removeClass("m-login--forget-password");m.removeClass("m-login--signup");m.addClass("m-login--signin");m.find(".m-login__signin").animateClass("flipInX animated")};var n=function(){m.removeClass("m-login--signin");m.removeClass("m-login--signup");m.addClass("m-login--forget-password");m.find(".m-login__forget-password").animateClass("flipInX animated")};var k=function(){$("#m_login_forget_password").click(function(a){a.preventDefault();n()});$("#m_login_forget_password_cancel").click(function(a){a.preventDefault();q()});$("#m_login_signup").click(function(a){a.preventDefault();p()});$("#m_login_signup_cancel").click(function(a){a.preventDefault();q()})};var o=function(){$("#m_login_signin_submit").click(function(a){a.preventDefault();var c=$(this);var b=$(this).closest("form");b.validate({rules:{email:{required:true,email:true},password:{required:true}}});if(!b.valid()){return}c.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);b.ajaxSubmit({url:"",success:function(f,d,e,g){setTimeout(function(){c.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);r(b,"danger","Incorrect username or password. Please try again.");if(f.statusCode==1){r(b,"success",f.status);setTimeout(function(){window.location="system.php?system=home"},3000)}else{r(b,"danger",f.status)}},2000)}})})};var l=function(){$("#m_login_signup_submit").click(function(a){a.preventDefault();var c=$(this);var b=$(this).closest("form");b.validate({rules:{fullname:{required:true},email:{required:true,email:true},password:{required:true},rpassword:{required:true},agree:{required:true}}});if(!b.valid()){return}c.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);b.ajaxSubmit({url:"",success:function(f,d,e,g){setTimeout(function(){c.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);b.clearForm();b.validate().resetForm();q();var h=m.find(".m-login__signin form");h.clearForm();h.validate().resetForm();r(h,"success","Thank you. To complete your registration please check your email.")},2000)}})})};var j=function(){$("#m_login_forget_password_submit").click(function(a){a.preventDefault();var c=$(this);var b=$(this).closest("form");b.validate({rules:{email:{required:true,email:true}}});if(!b.valid()){return}c.addClass("m-loader m-loader--right m-loader--light").attr("disabled",true);b.ajaxSubmit({url:"",success:function(f,d,e,g){setTimeout(function(){c.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",false);b.clearForm();b.validate().resetForm();q();var h=m.find(".m-login__signin form");h.clearForm();h.validate().resetForm();r(h,"success","Cool! Password recovery instruction has been sent to your email.")},2000)}})})};return{init:function(){k();o();l();j()}}}();jQuery(document).ready(function(){SnippetLogin.init()});