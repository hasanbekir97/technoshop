/*!
 * toc - jQuery Table of Contents Plugin
 * v0.3.2
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2014
 * MIT License
*/
;
/*!
 * smooth-scroller - Javascript lib to handle smooth scrolling
 * v0.1.2
 * https://github.com/firstandthird/smooth-scroller
 * copyright First+Third 2014
 * MIT License
*/
(function(a){a.fn.smoothScroller=function(b){b=a.extend({},a.fn.smoothScroller.defaults,b);var c=a(this);a(b.scrollEl).animate({scrollTop:c.offset().top-a(b.scrollEl).offset().top-b.offset},b.speed,b.ease,function(){var d=c.attr("id");if(d.length){if(history.pushState){history.pushState(null,null,"#"+d)}else{document.location.hash=d}}c.trigger("smoothScrollerComplete")});return this};a.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0};a("body").on("click","[data-smoothscroller]",function(c){c.preventDefault();var b=a(this).attr("href");if(b.indexOf("#")===0){a(b).smoothScroller()}})}(jQuery));(function(b){var a={};b.fn.toc=function(l){var j=this;var c=b.extend({},jQuery.fn.toc.defaults,l);var d=b(c.container);var i=b(c.selectors,d);var e=[];var k=c.activeClass;var f=function(n,o){if(c.smoothScrolling&&typeof c.smoothScrolling==="function"){n.preventDefault();var m=b(n.target).attr("href");c.smoothScrolling(m,c,o)}b("li",j).removeClass(k);b(n.target).parent().addClass(k)};var h;var g=function(m){if(h){clearTimeout(h)}h=setTimeout(function(){var s=b(window).scrollTop(),r,q=Number.MAX_VALUE,n=0;for(var o=0,t=e.length;o<t;o++){var p=Math.abs(e[o]-s);if(p<q){n=o;q=p}}b("li",j).removeClass(k);r=b("li:eq("+n+")",j).addClass(k);c.onHighlight(r)},50)};if(c.highlightOnScroll){b(window).bind("scroll",g);g()}return this.each(function(){var n=b(this);var m=b(c.listType);i.each(function(t,u){var q=b(u);e.push(q.offset().top-c.highlightOffset);var p=c.anchorName(t,u,c.prefix);if(u.id!==p){var s=b("<span/>").attr("id",p).insertBefore(q)}var r=b("<a/>").text(c.headerText(t,u,q)).attr("href","#"+p).bind("click",function(v){b(window).unbind("scroll",g);f(v,function(){b(window).bind("scroll",g)});n.trigger("selected",b(this).attr("href"))});var o=b("<li/>").addClass(c.itemClass(t,u,q,c.prefix)).append(r);m.append(o)});n.html(m)})};jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(d,c,e){b(d).smoothScroller({offset:c.scrollToOffset}).on("smoothScrollerComplete",function(){e()})},scrollToOffset:0,prefix:"toc",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:true,highlightOffset:100,anchorName:function(d,g,f){if(g.id.length){return g.id}var e=b(g).text().replace(/[^a-z0-9]/ig," ").replace(/\s+/g,"-").toLowerCase();if(a[e]){var c=2;while(a[e+c]){c++}e=e+"-"+c}a[e]=true;return f+"-"+e},headerText:function(c,e,d){return d.text()},itemClass:function(c,f,d,e){return e+"-"+d[0].tagName.toLowerCase()}}})(jQuery);